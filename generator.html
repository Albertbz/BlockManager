<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'" />
    <meta http-equiv="X-Content-Security-Policy" content="default-src 'self'; script-src 'self'" />
    <link rel="stylesheet" href="./style.css">
    <title>Block Manager for cyubeVR</title>
</head>

<body>
    <div class="container box">
        <div class="header">
            <!-- Form steps -->
            <ul class="form-stepper form-stepper-horizontal text-center mx-auto pl-0">
                <!-- Step 1 -->
                <li class="form-stepper-active form-stepper-list" step="1">
                    <a>
                        <span class="form-stepper-circle">
                            <span>1</span>
                        </span>
                        <div class="label">Properties</div>
                    </a>
                </li>
                <!-- Step 2 -->
                <li class="form-stepper-unfinished form-stepper-list" step="2">
                    <a>
                        <span class="form-stepper-circle">
                            <span>2</span>
                        </span>
                        <div class="label text-muted">Textures</div>
                    </a>
                </li>
                <!-- Step 3 -->
                <li class="form-stepper-unfinished form-stepper-list" step="3">
                    <a>
                        <span class="form-stepper-circle">
                            <span>3</span>
                        </span>
                        <div class="label text-muted">Recipe</div>
                    </a>
                </li>
                <!-- Step 4 -->
                <li class="form-stepper-unfinished form-stepper-list" step="4">
                    <a>
                        <span class="form-stepper-circle">
                            <span>4</span>
                        </span>
                        <div class="label text-muted">Finalization</div>
                    </a>
                </li>
            </ul>
        </div>

        <div class="content">
            <form class="box" action="" id="blockForm">
                <!-- Step 1 -->
                <section id="step-1" class="form-step content box">
                    <h2 class="text-center mt-0 header">Properties</h2>

                    <div class="content box-horizontal">
                        <div class="form-part content box">
                            <h3 class="text-center header">Required</h3>

                            <div class="scrollable content box">
                                <label class="form-label">Name of block:</label>
                                <input class="form-control mb-2" type="text" name="name" id="nameInput"
                                    placeholder="e.g., White marble" required>

                                <label class="form-label">Name of creator:</label>
                                <input class="form-control mb-2" type="text" name="creatorName" id="creatorNameInput"
                                    placeholder="e.g., Albertbz" required>

                                <label class="form-label">ID of block:</label>
                                <div class="form-group mb-2">
                                    <input class="form-control" type="number" name="uniqueID" id="uniqueIDInput" min="1"
                                        max="2147483648" placeholder="e.g., 325235" required>
                                    <button class="form-control-tight btn" type="button"
                                        id="uniqueIDButton">Random</button>
                                </div>

                                <label class="form-label">Yield:</label>
                                <div class="form-group mb-2">
                                    <input class="form-control" type="range" name="yieldSlider" id="yieldSliderInput"
                                        min="1" max="50" value="10">
                                    <input class="form-control-tight" type="number" name="yieldNumber"
                                        id="yieldNumberInput" min="1" max="50" value="10" required>
                                </div>

                                <label class="form-label">Tool used to break:</label>
                                <select class="form-control" name="similarTo" id="similarToInput" required>
                                    <option value="1">Pickaxe</option>
                                    <option value="2">Axe</option>
                                    <option value="3">Shovel</option>
                                    <option value="4">Indestructible</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-part content box">
                            <h3 class="text-center header">Optional</h3>

                            <div class="scrollable content box">
                                <label class="form-label">Category name:</label>
                                <input class="form-control mb-2" type="text" name="categoryName" id="categoryNameInput"
                                    placeholder="e.g., Marble">

                                <label class="form-label">Block to drop:</label>
                                <div class="form-group mb-2 h-22" id="uniqueIDToDropDiv">
                                    <div class="form-group form-control">
                                        <input class="form-control btn btn-pressed" type="button" value="Itself"
                                            id="uniqueIDToDropItselfInput">
                                        <input class="form-control btn" type="button" value="Nothing"
                                            id="uniqueIDToDropNothingInput">
                                    </div>
                                    <div class="form-group form-control" id="customBlockDropDiv">
                                        <input class="form-control btn" type="button" value="Custom"
                                            id="uniqueIDToDropCustomInput">
                                        <input class="form-control shrink-anim hide" type="number" name="uniqueIDToDrop"
                                            id="uniqueIDToDropInput" readonly placeholder="e.g., 89794" min="-2"
                                            max="2147483648" value="-2">
                                    </div>
                                </div>

                                <label class="form-label">Allow movement after placement:</label>
                                <div class="checkbox mb-2">
                                    <input class="form-control" type="checkbox" name="allowMove" id="allowMoveInput"
                                        checked>
                                    <label for="allowMoveInput"></label>
                                </div>

                                <label class="form-label">Allow crystal assisted block
                                    placement:</label>
                                <div class="checkbox mb-2">
                                    <input class="form-control" type="checkbox" name="allowCrystalPlacement"
                                        id="allowCrystalPlacementInput" checked>
                                    <label for="allowCrystalPlacementInput"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="btns footer">
                        <span class="left"></span>
                        <span class="center">
                            <button class="btn btn-large discard" type="button">Discard block</button>
                        </span>
                        <span class="right">
                            <button class="btn-navigate-form-step btn-large btn" type="button"
                                step_number="2">Next</button>
                        </span>
                    </div>
                </section>
                <!-- Step 2 -->
                <section id="step-2" class="form-step content box d-none">
                    <h2 class="text-center mt-0 header">Textures</h2>
                    <div class="content box-horizontal">
                        <div class="form-part content box">
                            <h3 class="text-center header">Required</h3>

                            <div class="scrollable content box">
                                <!-- Regular texture files -->
                                <label class="form-label">Texture file(s) [2048x2048]:</label>
                                <input type="file" name="textureFiles" id="textureFilesInput" multiple
                                    accept=".png,.jpg,.jpeg">
                                <div class="texture-selector-parent" data-required="true" id="regularTexturesDiv">
                                    <!-- Textures are automatically added here -->
                                    <label for="textureFilesInput" class="custom-file-uploader">Select file(s)</label>
                                </div>

                            </div>

                        </div>
                        <div class="form-part content box">
                            <h3 class="text-center header">Optional</h3>

                            <div class="scrollable content box">
                                <!-- Small texture files -->
                                <label class="form-label">Small texture file(s)
                                    [512x512]:</label>
                                <input type="file" name="smallTextureFiles" id="smallTextureFilesInput" multiple
                                    accept=".png,.jpg,.jpeg">
                                <div class="texture-selector-parent mb-2">
                                    <!-- Textures are automatically added here -->
                                    <label for="smallTextureFilesInput" class="custom-file-uploader">Select
                                        file(s)</label>
                                </div>

                                <!-- Normal map files -->
                                <label class="form-label">Normal map file(s)
                                    [2048x2048]:</label>
                                <input type="file" name="normalTextureFiles" id="normalTextureFilesInput" multiple
                                    accept=".png,.jpg,.jpeg">
                                <div class="texture-selector-parent mb-2">
                                    <!-- Textures are automatically added here -->
                                    <label for="normalTextureFilesInput" class="custom-file-uploader">Select
                                        file(s)</label>
                                </div>

                                <!-- Glow map files -->
                                <label class="form-label">Glow map file(s)
                                    [1024x1024]:</label>
                                <input type="file" name="glowTextureFiles" id="glowTextureFilesInput" multiple
                                    accept=".png,.jpg,.jpeg">
                                <div class="texture-selector-parent">
                                    <!-- Textures are automatically added here -->
                                    <label for="glowTextureFilesInput" class="custom-file-uploader">Select
                                        file(s)</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="btns footer">
                        <span class="left">
                            <button class="btn-navigate-form-step btn-large btn" type="button"
                                step_number="1">Previous</button>
                        </span>
                        <span class="center">
                            <button class="btn btn-large discard" type="button">Discard block</button>
                        </span>
                        <span class="right">
                            <button class="btn-navigate-form-step btn-large btn" type="button"
                                step_number="3">Next</button>
                        </span>
                    </div>
                </section>
                <!-- Step 3 -->
                <section id="step-3" class="form-step content box d-none">
                    <h2 class="text-center mt-0 header">Recipe</h2>
                    <div class="content box-horizontal">
                        <div class="form-part content box">
                            <h3 class="text-center header">Choose recipe</h3>

                            <div class="scrollable content box">

                                <label class="form-label">Load most recently generated
                                    recipe:</label>
                                <input type="button" value="Load" class="form-control mb-2 btn" id="loadRecipeInput">

                                <label class="form-label">Select recipe manually:</label>
                                <input type="file" name="uploadRecipe" id="uploadRecipeInput" accept=".txt">
                                <label for="uploadRecipeInput" class="manual-upload mb-2">Click here to browse</label>

                                <label class="form-label">Generate recipe picture (not implemented yet):</label>
                                <input type="button" value="Generate" class="form-control mb-2 btn"
                                    id="generateRecipePictureInput" disabled>

                                <label class="form-label">Select recipe picture manually [512x512]:</label>
                                <input type="file" name="uploadRecipePicture" id="uploadRecipePictureInput" accept=".png,.jpg,.jpeg">
                                <label for="uploadRecipePictureInput" class="manual-upload">Click here to browse</label>
                            </div>
                        </div>
                        <div class="form-part content box">
                            <h3 class="text-center header">Preview</h3>

                            <div class="scrollable content box">
                                <!-- Insert crafting materials, etc -->
                                <label class="form-label">Recipe materials:</label>
                                <div class="box mb-2 h-auto" id="recipeMaterialsDiv">

                                </div>

                                <!-- Used to store the recipe (not visible to the user) -->
                                <textarea class="recipe-properties-preview mb-2 d-none" name="recipeProperties"
                                    id="recipePropertiesTextarea" rows="6" required spellcheck="false"></textarea>

                                <!-- Insert recipe preview -->
                                <label class="form-label">Recipe picture:</label>
                                <div class="form-control" id="recipePictureDiv">
                                    <img src="./premade/placeholder.png" alt="" class="recipe-picture-preview"
                                        id="recipePictureImg">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="btns footer">
                        <span class="left">
                            <button class="btn-navigate-form-step btn-large btn" type="button"
                                step_number="2">Previous</button>
                        </span>
                        <span class="center">
                            <button class="btn btn-large discard" type="button">Discard block</button>
                        </span>
                        <span class="right">
                            <button class="btn-navigate-form-step btn-large btn" type="button"
                                step_number="4">Next</button>
                        </span>
                    </div>
                </section>
                <!-- Step 4 -->
                <section id="step-4" class="form-step content box d-none">
                    <h2 class="text-center mt-0 header">Finalization</h2>
                    <div class="content box-horizontal">
                        <div class="form-part-wide content box">
                            <h3 class="text-center header">Choose where to save the block</h3>

                            <div class="scrollable content box">
                                <div class="d-none box h-auto" id="existingLocationDiv">
                                    <label class="form-label">Save in existing location (default when editing):</label>
                                    <input type="button" value="" class="btn form-control mb-2 btn-pressed btn-path"
                                        id="existingLocationInput">
                                </div>

                                <label class="form-label">Save in blocks folder (default):</label>
                                <input type="button" value="" class="btn form-control mb-2 btn-pressed btn-path"
                                    id="blocksFolderInput">

                                <label class="form-label">Save in some mod folder:</label>
                                <div class="form-group-vertical mb-2" id="modFolderDiv">

                                </div>

                                <label class="form-label">Save somewhere manually:</label>
                                <input class="form-control btn btn-path" type="button" name="saveBlockManually"
                                    id="saveBlockManuallyInput" webkitdirectory directory value="Click here to browse">
                            </div>

                        </div>


                    </div>
                    <div class="btns footer">
                        <span class="left">
                            <button class="btn-navigate-form-step btn-large btn" type="button"
                                step_number="3">Previous</button>
                        </span>
                        <span class="center">
                            <button class="btn btn-large discard" type="button">Discard block</button>
                        </span>
                        <span class="right">
                            <button class="btn-large btn" type="submit" id="submitButton">Generate</button>
                        </span>
                    </div>
                </section>
            </form>
        </div>
    </div>
</body>
<script src="./generator.js"></script>

</html>